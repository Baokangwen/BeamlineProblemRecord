# BL17B1:mxcube主机ssh免密登录pilatus

## 1.演示环境

### mxcube主机(10.30.63.205):centos7

### Pilatus2M探测器主机(10.30.63.181):centos7

## 2.演示目标

- ### 10.30.63.205通过密钥认证的方式免密码直接登录10.30.63.181

- ### 10.30.63.205安装软件包，并首次连接10.30.63.181

  ```linux
  #在205主机终端操作
  yum -y install openssh-clients
  ssh det@10.30.63.181
  ```

- ### 10.30.63.205生成密钥对

  ```linux
  # 在205主机终端操作
  ssh-keygen -t rsa -P ""-f"/root/.ssh/id_rsa"
  # 查看密钥文件
  ls ~/.ssh/
  id_rsa id_rsa.pub known_hosts
  ```

- ### 10.30.63.205将公钥复制至远程10.30.63.181对应的用户家目录

  ```linux
  #在181主机终端操作
  #先查看文件
  ls ~/.ssh
  #如果有密钥文件，将老的重新删除，生成新的
  ssh-copy-id -i /root/.ssh/id_rsa.pub det@10.30.63.181
  ```

- ### 复制后，远程10.30.63.181

- ### 测试10.30.63.205远程免密登录10.30.63.181

  ```linux
  ssh det@10.30.63.181
  ```

- ### 如果不许要输入密码，则免密设置成功

  